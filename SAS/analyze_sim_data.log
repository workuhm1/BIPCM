1                                         The SAS System            13:29 Sunday, October 23, 2016

NOTE: Copyright (c) 2002-2010 by SAS Institute Inc., Cary, NC, USA. 
NOTE: SAS (r) Proprietary Software 9.3 (TS1M2) 
NOTE: This session is executing on the W32_7PRO  platform.



NOTE: Enhanced analytical products:

SAS/STAT 12.1, SAS/ETS 12.1, SAS/OR 12.2, SAS/IML 12.1, SAS/QC 12.1

NOTE: SAS initialization used:
      real time           44.71 seconds
      cpu time            0.35 seconds
      
1          /*******************************************************************************
2            Copyright: FSW, Leiden University, The Netherlands
3          ********************************************************************************
4            Program    : analyze_sim_data.sas
5            Author     : Hailemichael M. Worku (hmetiku@yahoo.com)
6            Date       : 2010 - 2015
7            Description: The program fits (B)IPC models on simulated bivariate binary
8                         data.
9            Remarks    : N/A
10         ********************************************************************************
11           Input : num_sim [M]: Number of replications used to simulate the data.
12         					type [M]: Type of Analysis (e.g., IPC2D_indep, etc).
13         					analyze_until [M]: The number of simulated data to analyze.
14           Output: The parameter estimates of fitted (B)IPC model.
15         ********************************************************************************/
16         
17         *options mprint mlogic symbolgen;
18         
19         /* ----------------------- */
20         /* Environmental settings. */
21         /* ----------------------- */
22         %let root_path  =
22       ! C:\Users\HW1\Desktop\PhD_project_backup\Subproject_1\CodesInSubmittedPaper_R3_20160924\
22       ! simulation-2_Modified_20160924;
23         %let olog       = &root_path.\SAS;
24         %let prog_name  = analyze_sim_data;
25         
26         /* --------------------------------------------- */
27         /* Import main macros for fitting (B)IPC models. */
28         /* --------------------------------------------- */
29         filename MACRO "&root_path.\SAS";
30         %include MACRO(read_rawdata.sas);
74         %include MACRO(fit_2IPC_indep.sas);
159        %include MACRO(fit_2IPC_free.sas);
272        %include MACRO(fit_3IPC.sas);
359        %include MACRO(fit_BIPC.sas);
484        
485        /* --------------------------------------------- */
2                                         The SAS System            13:29 Sunday, October 23, 2016

486        /* Macro for fitting different dimensional IPC   */
487        /* models and IPC model on simulated data.       */
488        /* --------------------------------------------- */
489        %macro analyze_sim_data(num_sim       =,
490        												type          =,
491                                analyze_until =);
492        
493            %do i=1 %to &analyze_until;
494        
495                /* Simulation data for loop &i. */
496                %read_rawdata(root_path=&root_path, NRep=&num_sim, data_i=&i, ds_out
496      ! =ds_sim_&i);
497        				
498                %put |*----------------------------------------------*|;
499                %put |* Dataset: ds_sim_&i                           *|;
500                %put |* Type of Analysis: &type                      *|;
501                %put |*----------------------------------------------*|;
502        
503        				%if %upcase(&type) = IPC2D_INDEP %then
504        				%do;
505        				
506        					/* Fit 2-dimensional IPC model with fixed class points. */
507                  %fit_ipc2D_indep(ds_analyze =ds_sim_&i,
508                                   root_path  =&&root_path,
509                                   loop       =&i);
510        													
511        				%end;
512        				%else %if %upcase(&type) = IPC2D_FREE %then
513        				%do;
514        				
515        					/* Fit 2-dimensional IPC model with fixed class points. */
516                  %fit_ipc2D_free(ds_analyze =ds_sim_&i,
517                                  root_path  =&&root_path,
518                                  loop       =&i);
519        													
520        				%end;
521        				%else %if %upcase(&type) = IPC3D %then
522        				%do;
523        				
524        					/* Fit 3-dimensional IPC model. */
525                  %fit_ipc3D(ds_analyze =ds_sim_&i,
526                             root_path  =&&root_path,
527                             loop       =&i);
528        										
529        				%end;
530        				%else %if %upcase(&type) = BIPC %then
531        				%do;
532        				
533        					/* Fit BIPC model. */
534                  %fit_bipc(ds_analyze =ds_sim_&i,
535                            root_path  =&&root_path,
536                            loop       =&i);
537        										
3                                         The SAS System            13:29 Sunday, October 23, 2016

538        				%end;
539        				
540        
541                /* Delete temporary dataset. */
542                proc datasets library=work nolist;
543                  delete ds_sim_&i;
544                quit;
545                run;
546        
547            %end;
548        
549        %mend  analyze_sim_data;
550        
551        
552        /* ----------------------------------------------------------------- */
553        /* Fitting different dimensional IPC models and BIPC model on        */
554        /* simulated data.                                                   */
555        /* ----------------------------------------------------------------- */
556        
557        /* Fit 2-dimensional IPC model with fixed class points, IPC2D_INDEP. */
558        filename logout1 "&olog.\&prog_name._IPC2D_Indep.log";
559        
560        proc printto log=logout1;
561        run;

NOTE: PROCEDURE PRINTTO used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

114567     
114568     filename logout1;
NOTE: Fileref LOGOUT1 has been deassigned.
114569     
114570     
114571     /* Fit 2-dimensional IPC model with free class points, IPC2D_FREE. */
114572     filename logout2 "&olog.\&prog_name._IPC2D_Free.log";
4332                                      The SAS System            13:29 Sunday, October 23, 2016

114573     
114574     proc printto log=logout2;
114575     run;

NOTE: PROCEDURE PRINTTO used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

293581     
293582     filename logout2;
NOTE: Fileref LOGOUT2 has been deassigned.
293583     
293584     
293585     /* Fit 3-dimensional IPC model, IPC3D. */
293586     filename logout3 "&olog.\&prog_name._IPC3D.log";
293587     
293588     proc printto log=logout3;
293589     run;

NOTE: PROCEDURE PRINTTO used (Total process time):
15099                                     The SAS System            13:29 Sunday, October 23, 2016

      real time           0.00 seconds
      cpu time            0.00 seconds
      

407595     
407596     filename logout3;
NOTE: Fileref LOGOUT3 has been deassigned.
407597     
407598     
407599     /* Fit Bivariate IPC model, BIPC. */
407600     filename logout4 "&olog.\&prog_name._BIPC.log";
407601     
407602     proc printto log=logout4;
407603     run;

NOTE: PROCEDURE PRINTTO used (Total process time):
      real time           0.06 seconds
      cpu time            0.00 seconds
      

586609     
586610     filename logout4;
NOTE: Fileref LOGOUT4 has been deassigned.

NOTE: SAS Institute Inc., SAS Campus Drive, Cary, NC USA 27513-2414
NOTE: The SAS System used:
      real time           51:10.98
      cpu time            22:31.21
      
